import * as Discord from 'discord.js'

export default class UserDB
{
    private user : Discord.GuildMember
    private userData : any
    xp : number
    // level : number

    constructor(user : Discord.GuildMember)
    {
        this.user = user
        this.userData = app.db.getUsers(user.guild.id).find({id: user.id})
        this.xp = this.userData.get('xp', 0).value()
        // this.level = this.userData.get('level', 0).value()
    }

    giveXp(quantity: number) {
        this.xp += quantity
    }

    push() {
        this.userData.set('xp', this.xp).write()
        // this.userData.set('level', this.level).write()
    }
}
